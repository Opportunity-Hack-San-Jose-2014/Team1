{
  "name": "browser-refresh",
  "description": "Node.js module to enable server restart and browser restart in response to file modifications",
  "main": "lib/index",
  "scripts": {},
  "repository": {
    "type": "git",
    "url": "https://github.com/patrick-steele-idem/browser-refresh.git"
  },
  "keywords": [
    "browser",
    "refresh",
    "live",
    "coding",
    "reload",
    "watch"
  ],
  "author": {
    "name": "Patrick Steele-Idem",
    "email": "pnidem@gmail.com"
  },
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/patrick-steele-idem/browser-refresh/issues"
  },
  "homepage": "https://github.com/patrick-steele-idem/browser-refresh",
  "bin": {
    "browser-refresh": "bin/browser-refresh"
  },
  "dependencies": {
    "chokidar": "^0.8.2",
    "colors": "^0.6.2",
    "express": "^3.5.1",
    "minimatch": "^0.2.14",
    "raptor-args": "^1",
    "raptor-polyfill": "^1",
    "raptor-util": "^1",
    "socket.io": "^1.0.6"
  },
  "version": "1.1.1",
  "readme": "browser-refresh\n===============\nThis module improves productivity by enabling instant web page refreshes anytime a front-end resource is modified on the server. This module utilizes the very efficient [chokidar](https://github.com/paulmillr/chokidar) module for watching for changes to the file system. Web sockets are used to communicate with the browser. Minimal application code changes are required to benefit from this module.\n\n# Overview\n\nLike nodemon, this module provides a drop-in replacement for the `node` command.\n\nCompared to [nodemon](https://github.com/remy/nodemon), the browser-refresh has the following benefits:\n\n* It starts as a web sockets server and provides a web sockets client\n* It sets an environment variable for the spawned child process to let it know that it was launched using `browser-refresh`\n* Instead of configuring which directories/files to watch, you instead configure which directories/files to _not_ watch using an optional `.browser-refresh-ignore` file (same format as `.gitignore` and `.npmignore`). Default ignores:\n\n    ```\n    /node_modules\n    .*\n    *.marko.js\n    *.dust.js\n    *.coffee.js\n    ```\n\n* There is an optional taglib for [Marko](https://github.com/raptorjs3/raptor-templates) and [Dust](https://github.com/linkedin/dustjs) that injects the `browser-refresh` [client](https://github.com/patrick-steele-idem/browser-refresh/blob/master/lib/browser-refresh-client.js) if the application was launched using `browser-refresh`. Please see: [browser-refresh-taglib](https://github.com/patrick-steele-idem/browser-refresh-taglib)\n* The `browser-refresh` process waits for the child process to tell it that it is ready to start serving traffic so that the web browser page is not refreshed too soon. This is done by the child process using `process.sendMessage('online')`\n\n# Installation\n\nFirst, install the global command line interface for the `browser-refresh` module:\n\n```bash\nnpm install browser-refresh -g\n```\n\nAdd the following code snippet to the appropriate location based on when your application is ready to start serving traffic:\n\n```javascript\nif (process.send) {\n    process.send('online');\n}\n```\n\nFor example:\n\n```javascript\napp.listen(port, function() {\n    console.log('Listening on port %d', port);\n\n    if (process.send) {\n        process.send('online');\n    }\n});\n```\n\nThen, in your project install the taglib to be used with either [Marko](https://github.com/raptorjs3/raptor-templates) or [Dust](https://github.com/linkedin/dustjs):\n\n```bash\nnpm install browser-refresh-taglib --save\n```\n\nFinally, update your page template based on the templating language that you are using:\n\n_For Marko:_\n\n```html\n<!doctype html>\n<html>\n    <head>\n        ...\n    </head>\n    <body>\n        ...\n\n        <browser-refresh enabled=\"true\" />\n    </body>\n</html>\n```\n\n_For Dust:_\n\n```html\n<!doctype html>\n<html>\n    <head>\n        ...\n    </head>\n    <body>\n        ...\n\n        {@browser-refresh enabled=\"true\" /}\n    </body>\n</html>\n```\n\nIf you are using, Dust, you will also need to add the following code to enable the provided Dust helper:\n\n```javascript\nvar dust = require('dustjs-linkedin');\nrequire('browser-refresh-taglib/dust').registerHelpers(dust);\n```\n\n# Usage\n\nOnce you have installed `browser-refresh` using the directions provided above, you can then start your application as normal, except replace `node` with `browser-refresh`. For example:\n\n```bash\n# Old: node server.js\n# New:\nbrowser-refresh server.js\n```\n\nIf the `main` property is configured correctly in your application's `package.json` then you can simply start your application using the following command:\n\n```bash\nbrowser-refresh\n```\n\nThe `browser-refresh` command will pass all command line arguments to the child process. Therefore, you can pass any number of arguments to your application:\n\n```bash\nbrowser-refresh server.js --foo --bar\n```\n\nAfter launching your application using the `browser-refresh` command, you can then load any web page as normal. If the `<browser-refresh>` tag (or `{@browser-refresh/}` helper) were used then any time a resoure is modified then the application will be restarted and, then, when the server is ready a message will be sent to all of the connected browsers via a web socket connection to trigger a reload of the same web page.\n\n# Other Considerations\n\nThis module does _not_ try to be clever when refreshing a page. A full page reload is always used whenever any type of file is modified on the server. This ensures that the page state will always be correct and avoids frustrating edge cases.\n\n# Maintainers\n\n* Patrick Steele-Idem ([Github: @patrick-steele-idem](http://github.com/patrick-steele-idem)) ([Twitter: @psteeleidem](http://twitter.com/psteeleidem))\n\n# Contribute\n\nPull requests, bug reports and feature requests welcome.\n\n# License\n\nISC\n",
  "readmeFilename": "README.md",
  "_id": "browser-refresh@1.1.1",
  "dist": {
    "shasum": "b4fd5dab83052b939984e687f324df30010b715c"
  },
  "_from": "browser-refresh@~1.1.1",
  "_resolved": "http://registry.npmjs.org/browser-refresh/-/browser-refresh-1.1.1.tgz"
}
