<c-template 
    params="">

    <var name="count" value="0"/>
    
    <def function="foo(cacheName, cacheKey)">
        <cached-fragment cache-key="$cacheKey" cache-name="$cacheName">
            Count: ${count++}
        </cached-fragment>
    </def>
    
    <invoke function="foo('cacheA', 'keyA')"/>
    <invoke function="foo('cacheA', 'keyA')"/>
    <invoke function="foo('cacheA', 'keyB')"/>
    
    <invoke function="foo('cacheB', 'keyA')"/>
    <invoke function="foo('cacheB', 'keyA')"/>
    <invoke function="foo('cacheB', 'keyB')"/>
</c-template>